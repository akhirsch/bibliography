\subsection{Syntax}
\label{sec:syntax}
The full syntax of \langname is presented in \todo.
As we extend the Pirouette language, much of our syntax is identical or similar.
As in Pirouette, we include both choreographic program variables written in uppercase Latin characters ($X,Y,F,\ldots$) and local program variables written in lowercase Latin characters ($x,y,f,\ldots$).
Both choreographic and local type variables, including location variables, are denoted with lowercase Greek characters ($\alpha,\beta,\ldots$).

\todo Local variables/namespaces and why substitution of locations is somewhat tricky with named representations (Ethan's substitution example)

\todo Explain base choreographic stuff: $\ell.e$, $\send{C_1}{\ell_1}{\ell_2}$, $\LetIn{\ell.x}{C_1}{C_2}$, $\send{\ell_1[d]}{}{\ell_2}$, $\lambda X \ty \tau.C$, $\mu X \ty \tau.C$

\todo Explain location and type abstraction $\Lambda \alpha \knd \kappa.C$

\todo Explain tell-let binding $\LetTellIn{\alpha}{\ell}{C_1 \knd *_\ell}{\rho}{C_2}$

\begin{figure}[h]
  \begin{syntax}
	\abstractCategory[Local Expressions]{e}
	\abstractCategory[Local Variables]{x, y, \ldots}
	\\

	\category[Synchronization Labels]{d}
	\alternative{\textsf{Left}}
	\alternative{\textsf{Right}}

	\abstractCategory[Choreographic Variables]{X, Y, \ldots}

	\category[Choreographies]{C, F}
	\alternative{X}
	\alternative{\ell.e}
	\alternative{\lambda X \ty \tau.C}
	\alternative{\mu X \ty \tau.C}
	\alternative{\app{F}{C}}\\
	\alternative{\send{C}{\ell_1}{\ell_2}}
	\alternative{\send{\ell_1[d]}{}{\ell_2};C}\\
	\alternative{\ell.\ifthen{C}{C_1}{C_2}}\\
	\alternative{\Lambda \alpha \knd \kappa.C}
	\alternative{\app{C}{t}}\\
	\alternative{\LetIn{\ell.x \ty t_e}{C_1}{C_2}}\\
	\alternative{\LetTellIn{\alpha}{\ell}{C_1 \knd *_\ell}{\rho}{C_2}}\\
	\alternative{\LetTellIn{\alpha}{\ell}{C_1 \knd *_e}{\rho}{C_2}}
  \end{syntax}

  \caption{Syntax of Choreographies}
  \label{fig:abstract-syntax}
\end{figure}

\begin{figure}[h]
  \begin{syntax}
  	\category[Kinds]{\kappa}
  	\alternative{*}
  	\alternative{*_\ell}
  	\alternative{*_s}
  	\alternative{*_e}
  	\\
  	
  	\abstractCategory[Type Variables]{\alpha, \beta, \ldots}
  	
  	\abstractCategory[Local Types]{t_e}

		\categoryFromSet[Locations]{L}{\Locations}
  	
  	\category[Choreography Types]{t, \ell, \rho, \tau}
  	\alternative{\alpha}
  	\alternative{t_e @ \ell}
  	\alternative{\tau_1 \rightarrow \tau_2}
  	\alternative{\forall \alpha \knd \kappa.\tau}
  	\\
  	\alternative{L}
  	\alternative{\varnothing}
  	\alternative{\{\ell\}}
  	\alternative{\rho_1 \cup \rho_2}
  	\\
  	\category[Choreography Kinding Contexts]{\Gamma}
  	\alternative{\cdot}
  	\alternative{\Gamma, \alpha \knd \kappa}
  	
  	\category[Choreography Typing Contexts]{\Delta}
  	\alternative{\cdot}
  	\alternative{\Delta, X \ty \tau}
  	
  	\category[Locally-Bound Typing Contexts]{\Sigma}
  	\alternative{\cdot}
  	\alternative{\Sigma, \ell.x \ty t_e}
  	\\
  	\category[Local Kinding Contexts]{\Gamma_e}
  	\alternative{\cdot}
  	\alternative{\Gamma_e, \alpha}
  	
  	\category[Local Typing Contexts]{\Sigma_e}
  	\alternative{\cdot}
  	\alternative{\Sigma_e, x \ty t_e}
  \end{syntax}

  \caption{Syntax of Kinds, Types, and Contexts}
  \label{fig:types}
\end{figure}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "conference"
%%% End: